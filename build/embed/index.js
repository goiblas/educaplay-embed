(()=>{"use strict";var e,l={190:()=>{const e=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.primitives,t=window.wp.components,n=window.wp.element,o=window.ReactJSXRuntime,s=(0,o.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(r.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),c=()=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 394 394",children:[(0,o.jsx)("path",{fill:"#6EB118",d:"M326.91 36.6 97.649 17.058C39.976 15.15-3.875 60.908.415 118.58l3.336 28.598 20.972 160.626c2.86 39.561 37.655 71.019 77.215 69.113l188.272-14.776c40.038-1.907 74.832-35.271 78.168-75.309l24.308-175.878c3.813-39.561-26.215-72.925-65.776-74.355"}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M140.677 222.338h113.156c.914 0 1.935.009 3.018.019 3.217.03 6.971.065 10.008-.129 3.928-.251 11.15-.998 17.436-5.774 7.43-5.648 9.765-13.746 10.106-20.511.315-6.248-.911-13.192-2.692-20.337-3.384-13.579-12.661-31.053-27.591-45.285-15.288-14.572-37.163-26.325-65.326-26.325-45.56 0-97.379 32.622-97.379 97.191 0 62.796 51.953 95.847 97.379 95.847 30.224 0 52.085-14.155 63.358-23.765 7.512-6.404 8.411-17.685 2.007-25.198-6.404-7.512-17.685-8.411-25.197-2.007-7.554 6.439-21.467 15.222-40.168 15.222-24.388 0-49.145-13.763-58.115-38.948m58.115-82.594c-26.503 0-53.649 15.893-60.163 46.846h115.204c1.231 0 2.407.009 3.488.019l.263.002q-.247-1.098-.561-2.359c-1.694-6.796-7.39-18.352-17.57-28.056-9.823-9.363-23.196-16.452-40.661-16.452",clipRule:"evenodd"})]}),i=JSON.parse('{"UU":"educaplay/embed"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{url:u}=e,d=(0,a.useBlockProps)(),[p,m]=(0,n.useState)(u),[h,b]=(0,n.useState)(!u),[w,_]=(0,n.useState)(null);return h?(0,o.jsx)(r.View,{...d,children:(0,o.jsxs)(t.Placeholder,{icon:c,className:"wp-block-embed",label:(0,l.__)("Educaplay embed URL","educaplay"),instructions:(0,l.__)("Paste a URL to embed content from Educaplay.","educaplay"),children:[(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a=function(e){try{const l=new URL(e);l.search="",l.hash="";const a=/^([a-z-]+)\.educaplay\.com$/;if(!l.hostname.match(a))return null;const r=/^\/([a-z-]+)\/(\d+)-(.*)\.html$/,t=l.pathname.match(r);if(!t)return null;const n=t[1],o=t[2],s=t[3],c={"recursos-educativos":"juego","learning-resources":"game","ressources-pedagogiques":"jeu"};return Object.values(c).includes(n)?l.toString():n in c?`${l.origin}/${c[n]}/${o}-${s}.html`:null}catch(e){return null}}(p);a?(m(a),i({url:a}),b(!1)):_((0,l.__)("The URL is not valid.","educaplay"))},className:"educaplay-embed__form",children:[(0,o.jsx)(t.__experimentalInputControl,{type:"url",value:p,className:"educaplay-embed__placeholder-input",label:(0,l.__)("Paste URL to embed content from Educaplay","educaplay"),hideLabelFromVision:!0,placeholder:(0,l.__)("Enter URL to embed hereâ€¦","educaplay"),__next40pxDefaultSize:!0,onChange:e=>{m(null!=e?e:""),_(null)}}),(0,o.jsx)(t.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",children:(0,l.__)("Embed","educaplay")})]}),w&&(0,o.jsx)("div",{className:"educaplay-embed__error",role:"alert","aria-atomic":"true",children:w})]})}):(0,o.jsx)(r.View,{...d,children:p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.BlockControls,{children:(0,o.jsx)(t.ToolbarGroup,{children:(0,o.jsx)(t.ToolbarButton,{label:(0,l.__)("Edit URL","educaplay"),icon:s,onClick:()=>b(!0)})})}),(0,o.jsx)(t.FocusableIframe,{src:p,className:"educaplay-embed__iframe",allowFullScreen:!0})]})})},icon:c,save:function({attributes:e}){const{url:l}=e;return l?(0,o.jsx)("div",{...a.useBlockProps.save(),children:(0,o.jsx)("iframe",{src:l,className:"educaplay-embed__iframe"})}):null}})}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return l[e](n,n.exports,r),n.exports}r.m=l,e=[],r.O=(l,a,t,n)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){for(var[a,t,n]=e[u],s=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(s=!1,n<o&&(o=n));if(s){e.splice(u--,1);var i=t();void 0!==i&&(l=i)}}return l}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,t,n]},r.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={387:0,915:0};r.O.j=l=>0===e[l];var l=(l,a)=>{var t,n,[o,s,c]=a,i=0;if(o.some((l=>0!==e[l]))){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(c)var u=c(r)}for(l&&l(a);i<o.length;i++)n=o[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},a=globalThis.webpackChunk_educaplay_embed_block=globalThis.webpackChunk_educaplay_embed_block||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var t=r.O(void 0,[915],(()=>r(190)));t=r.O(t)})();